{"version":3,"sources":["data.js","folderSearch.js","chonkyActionHandler.js","chonkyCustomActions.js","App.js","index.js"],"names":["data","id","name","isDir","files","folderSearch","data1","folderChainTemp","currentFolder","console","log","filesTemp","i","length","folder","forEach","file","returnValues","slice","findFile","fileId","handleAction","setCurrentFolder","ChonkyActions","OpenFiles","fileData","payload","uploadFileAction","defineFileAction","fileFilter","button","toolbar","contextMenu","icon","ChonkyIconName","upload","delegateFileAction","loading","customActions","requiresSelection","App","setChonkyDefaults","iconComponent","ChonkyIconFA","useState","setFiles","folderChain","setFolderChain","fileActions","DownloadFiles","useEffect","found","filesTemp1","folderChainTemp1","_jsxs","className","children","_jsx","FullFileBrowser","defaultFileViewActionId","EnableListView","onFileAction","disableDefaultFileActions","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f1c0e434.chunk.js","sourcesContent":["const data = [\r\n  {\r\n    id: \"0\",\r\n    name: \"Root\",\r\n    isDir: true,\r\n    files: [\r\n      {\r\n        id: \"1\",\r\n        name: \"Administration\",\r\n        isDir: true,\r\n        files: [\r\n          {\r\n            id: \"11\",\r\n            name: \"Performance\",\r\n            isDir: true,\r\n            files: [\r\n              {\r\n                id: \"111\",\r\n                name: \"Quaterly Reports\",\r\n                isDir: true,\r\n                files: [\r\n                  {\r\n                    id: \"1111\",\r\n                    name: \"2020-qty-report1.pdf\"\r\n                  },\r\n                  {\r\n                    id: \"1112\",\r\n                    name: \"2020-qty-report2.pdf\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      { id: \"2\", name: \"Closure\", isDir: true },\r\n      { id: \"3\", name: \"Formation\", isDir: true }\r\n    ]\r\n  }\r\n];\r\nexport default data;\r\n","const folderSearch = (data1, folderChainTemp, currentFolder) => {\r\n  console.log(\"search\", data1, folderChainTemp, currentFolder);\r\n\r\n  let filesTemp = [];\r\n  for (let i = 0; i < data1.length; i++) {\r\n    const folder = data1[i];\r\n    folderChainTemp = [\r\n      ...folderChainTemp,\r\n      { id: folder.id, name: folder.name }\r\n    ];\r\n    console.log(\"id\", folder.id, currentFolder);\r\n    if (folder.id === currentFolder) {\r\n      console.log(\"inside\");\r\n      if (folder?.files) {\r\n        folder.files.forEach((file) => {\r\n          filesTemp = [\r\n            ...filesTemp,\r\n            { id: file.id, name: file.name, isDir: file.isDir ? true : false }\r\n          ];\r\n        });\r\n      }\r\n      console.log([true, filesTemp, folderChainTemp]);\r\n      return [true, filesTemp, folderChainTemp];\r\n    } else if (folder?.files) {\r\n      let returnValues = folderSearch(\r\n        folder.files,\r\n        folderChainTemp,\r\n        currentFolder\r\n      );\r\n      console.log(\"found\", returnValues);\r\n      if (returnValues[0]) {\r\n        return returnValues;\r\n      }\r\n    }\r\n    folderChainTemp = folderChainTemp.slice(0, folderChainTemp.length - 1);\r\n  }\r\n  return [0, null, null];\r\n};\r\n\r\nexport const findFile = (data, fileId) => {\r\n  console.log(\"filesearch\", data);\r\n  for (let i = 0; i < data.length; i++) {\r\n    const folder = data[i];\r\n    if (folder.id === fileId) {\r\n      return folder;\r\n    } else if (folder?.files) {\r\n      let returnValues = findFile(folder.files, fileId);\r\n      if (returnValues) {\r\n        return returnValues;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default folderSearch;\r\n","import { ChonkyActions } from \"chonky\";\r\nimport { findFile } from \"./folderSearch\";\r\nimport fileData from \"./data\";\r\n\r\nconst handleAction = (data, setCurrentFolder) => {\r\n  console.log(\"handle\", data);\r\n  if (data.id === ChonkyActions.OpenFiles.id) {\r\n    const file = findFile(fileData, data.payload.files[0].id);\r\n    if (file?.isDir) {\r\n      console.log(\"fileid\", file.id);\r\n      setCurrentFolder(file.id);\r\n    }\r\n  }\r\n};\r\n\r\nexport default handleAction;\r\n","import { defineFileAction, ChonkyIconName } from \"chonky\";\r\n\r\nconst uploadFileAction = defineFileAction({\r\n  id: \"upload\",\r\n  fileFilter: (file) => file.isDir,\r\n  button: {\r\n    name: \"Upload\",\r\n    toolbar: true,\r\n    contextMenu: true,\r\n    icon: ChonkyIconName.upload\r\n  }\r\n});\r\n\r\nconst delegateFileAction = defineFileAction({\r\n  id: \"delegate\",\r\n  fileFilter: (file) => file.isDir,\r\n  button: {\r\n    name: \"Delegate\",\r\n    toolbar: true,\r\n    contextMenu: true,\r\n    icon: ChonkyIconName.loading\r\n  }\r\n});\r\n\r\nconst viewFileAction = defineFileAction({\r\n  id: \"view\",\r\n  requiresSelection: true,\r\n  fileFilter: (file) => file && !file.isDir,\r\n  button: {\r\n    name: \"View\",\r\n    toolbar: true,\r\n    contextMenu: true,\r\n    icon: ChonkyIconName.file\r\n  }\r\n});\r\n\r\nexport const customActions = [\r\n  viewFileAction,\r\n  delegateFileAction,\r\n  uploadFileAction\r\n];\r\n","import \"./styles.css\";\r\nimport { setChonkyDefaults } from \"chonky\";\r\nimport { ChonkyIconFA } from \"chonky-icon-fontawesome\";\r\nimport { FullFileBrowser, ChonkyActions } from \"chonky\";\r\nimport { useEffect, useState } from \"react\";\r\nimport data from \"./data\";\r\nimport folderSearch from \"./folderSearch\";\r\nimport handleAction from \"./chonkyActionHandler\";\r\nimport { customActions } from \"./chonkyCustomActions\";\r\n\r\nexport default function App() {\r\n  const handleActionWrapper = (data) => {\r\n    handleAction(data, setCurrentFolder);\r\n  };\r\n  console.log(\"start\", data);\r\n  setChonkyDefaults({ iconComponent: ChonkyIconFA });\r\n\r\n  const [currentFolder, setCurrentFolder] = useState(\"0\");\r\n  const [files, setFiles] = useState(null);\r\n  const [folderChain, setFolderChain] = useState(null);\r\n  const fileActions = [...customActions, ChonkyActions.DownloadFiles];\r\n  useEffect(() => {\r\n    let folderChainTemp = [];\r\n    let filesTemp = [];\r\n\r\n    const [found, filesTemp1, folderChainTemp1] = folderSearch(\r\n      data,\r\n      folderChainTemp,\r\n      currentFolder\r\n    );\r\n    if (found) {\r\n      console.log(\"found\", filesTemp1, folderChainTemp1);\r\n      filesTemp = filesTemp1;\r\n      folderChainTemp = folderChainTemp1;\r\n    }\r\n\r\n    console.log(\"files\", filesTemp);\r\n    console.log(\"folders\", folderChainTemp);\r\n    setFolderChain(folderChainTemp);\r\n    setFiles(filesTemp);\r\n  }, [currentFolder]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Chonky example</h1>\r\n      <FullFileBrowser\r\n        files={files}\r\n        folderChain={folderChain}\r\n        defaultFileViewActionId={ChonkyActions.EnableListView.id}\r\n        fileActions={fileActions}\r\n        onFileAction={handleActionWrapper}\r\n        disableDefaultFileActions={true}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}